<p-card id="kreiraj-racun-card" header="Kreiraj Račun">
    <div class="p-grid shop-register-grid">
        <div class="p-col-12">
            <form [formGroup]="kupacForm" (ngSubmit)="CreateNewBill()">

            <div class="p-field">
                <label for="naziv">Naziv:</label>
                <input id="naziv" formControlName="naziv" pInputText />
            </div>

            <div class="p-field">
                <label for="adresa">Adresa:</label>
                <input id="adresa" formControlName="adresa" pInputText />
            </div>

            <div class="p-field">
                <label for="mjesto">Mjesto:</label>
                <input id="mjesto" formControlName="mjesto" pInputText />
            </div>

            <div class="p-field">
                <label for="napomena">Napomena:</label>
                <input id="napomena" formControlName="napomena" pInputText />
            </div>

            <p-button label="Kreiraj Račun" type="submit" [disabled]="kosarica.length === 0 || !kupacForm.valid"></p-button>
            </form>
        </div>
    </div>

        <div class="p-grid">
            <div class="p-col-12">
            <p-table [value]="kosarica">
                <ng-template pTemplate="header">
                <tr>
                    <th>Proizvod</th>
                    <th>Cijena</th>
                    <th>Količina</th>
                    <th>Popust</th>
                    <th>Akcija</th>
                </tr>
                </ng-template>
                <ng-template pTemplate="body" let-stavka let-i="rowIndex">
                <tr>
                    <td>{{stavka.naziv}}</td>
                    <td>{{stavka.cijena}}</td>
                    <td>{{stavka.kolicina}}{{stavka.jedinica_mjere}}</td>
                    <td>{{stavka.popust}}%</td>
                    <td>
                        <p-button icon="pi pi-times" class="p-button-danger" (click)="removeStavkaFromRegister(i)"></p-button>
                    </td>
                </tr>
                </ng-template>
            </p-table>
            </div>
        </div>

        <div class="p-mt-3">
            <h4>Ukupno: {{totalCost}}</h4>
        </div>